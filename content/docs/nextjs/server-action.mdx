---
title: Server Action
description: API Route မလိုဘဲ Form Data ကို Server မှ တိုက်ရိုက် ကိုင်တွယ်နိုင်မည့် Server Actions ကို Next.js မှာ ဘယ်လိုအသုံးပြုမလဲ။
---

### 🧠 Overview

**Server Actions** ဆိုတာ `"use server"` ဆိုတဲ့ directive ဖြင့် အမှတ်အသားပြုထားတဲ့ asynchronous functions ဖြစ်ပြီး Form data တင်သွင်းမှု (form submissions) နဲ့ data ပြောင်းလဲမှု (mutations) တွေကို **server မှာသာ** ကိုင်တွယ်နိုင်စေတယ်။  
အဓိကအားဖြင့် **API Route မလို**တော့ဘဲ လွယ်ကူစွာလုပ်နိုင်တယ်။

```tsx
"use server";
```

---

#### ✅ Server Component မှာ Server Action သုံးနည်း

```tsx
"use server";

async function createUser(formData: FormData) {
  const firstName = formData.get("firstName");
  const lastName = formData.get("lastName");
  console.log("Creating:", firstName, lastName);
}

<form action={createUser}>
  <input type="text" name="firstName" defaultValue="John" required />
  <input type="text" name="lastName" defaultValue="Smith" required />
  <button type="submit">Submit</button>
</form>;
```

- use server ကို component ရဲ အထိပ်ဆုံး မှာရေးရပါမယ်။
- Form input တွေမှာ name attribute မရှိရင် FormData API ကတဆင့် သိမ်းလို့မရပါ။

---

#### 🚀 Client Component မှာ Server Action သုံးနည်း

- Client Component မှာတော့ server action ကို action.ts ဆိုတဲ့ file တစ်ခုမှာရေးထားပြီး import လုပ်ရပါမယ်။
- Server-side file မှာ use server ကို top-level မှာရေးထားရပါမယ်။

```tsx
// actions.ts
"use server";

export async function createUser(formData: FormData) {
  const firstName = formData.get("firstName");
  const lastName = formData.get("lastName");
  console.log("Creating from client:", firstName, lastName);
}

// FormClient.tsx (client component)
("use client");

import { createUser } from "../actions";

export function FormClient() {
  return (
    <form action={createUser}>
      <input type="text" name="firstName" defaultValue="John" required />
      <input type="text" name="lastName" defaultValue="Smith" required />
      <button type="submit">Submit</button>
    </form>
  );
}
```

---

#### 💡 Server Action အတွက် Form UI Setup

```tsx
const formStyle = "max-w-md flex flex-col gap-y-4 shadow-md rounded p-4"
const inputStyle = "border shadow-sm rounded px-3 py-2 text-gray-700"
const btnStyle = "bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded capitalize"

<form action={createUser} className={formStyle}>
  <h2 className="capitalize mb-4">Create User</h2>
  <input name="firstName" defaultValue="John" required className={inputStyle} />
  <input name="lastName" defaultValue="Smith" required className={inputStyle} />
  <button type="submit" className={btnStyle}>
    Submit
  </button>
</form>
```

---

#### 🧪 Dev Note

- Form မှာတင်ပြီး submit လုပ်တာနဲ့ Server Terminal ထဲမှာ console.log() ပြသမှာဖြစ်ပါတယ်။
- နောက်ထပ် တခြား logic တွေ (database, cache revalidation, redirect, etc.) ကိုလည်း ဒီ function ထဲမှာရေးနိုင်ပါတယ်။

---

#### ⛔ Production Deployment အတွက် သတိပြုရန်

Local JSON ထဲမှာ user list များ သိမ်းဖို့ design လုပ်ထားပါတယ်။ ဒါကြောင့် Vercel (or any cloud) မှာ push လုပ်လိုက်တဲ့အခါမှာ အလုပ်မလုပ်နိုင်ပါ။

ဒီ tutorial ဟာ Local Testing အတွက်သာဖြစ်ပါတယ်။
